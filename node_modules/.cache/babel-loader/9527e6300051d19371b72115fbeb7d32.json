{"remainingRequest":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/babel-loader/lib/index.js!/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js","dependencies":[{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js","mtime":1611254907788},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL29tZXJzZXJkYXJzZXJpZm9nbHUvRGVza3RvcC9yZWFkZXItYXBwLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29tZXJzZXJkYXJzZXJpZm9nbHUvRGVza3RvcC9yZWFkZXItYXBwLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIvaW5kZXguanMiOwpWdWUudXNlKFZ1ZXgpOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1BBVEg7CgppZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikpIHsKICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gIkJlYXJlcjogIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikpOwp9CgpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB8fCAiIiwKICAgIHVzZXJTZXR0aW5nczogewogICAgICBjb2xvcjogIiIsCiAgICAgIHNlbGVjdGVkUGFja0lkOiAiIgogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHRva2VuKTsKICAgIH0sCiAgICBjbGVhclRva2VuOiBmdW5jdGlvbiBjbGVhclRva2VuKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsICIiKTsKICAgIH0sCiAgICBzZXRTZWxlY3RlZFBhY2s6IGZ1bmN0aW9uIHNldFNlbGVjdGVkUGFjayhzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS51c2VyU2V0dGluZ3MuY29sb3IgPSBkYXRhLndvcmRDb2xvcjsKICAgICAgc3RhdGUudXNlclNldHRpbmdzLnNlbGVjdGVkUGFja0lkID0gZGF0YS5zZWxlY3RlZFBhY2tJZDsKICAgIH0sCiAgICBnZXRVc2VyU2V0dGluZ3M6IGZ1bmN0aW9uIGdldFVzZXJTZXR0aW5ncyhzdGF0ZSkgewogICAgICBzdGF0ZS51c2VyU2V0dGluZ3M7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBpbml0QXV0aDogZnVuY3Rpb24gaW5pdEF1dGgoX3JlZikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJUb2tlbjoiICsgdG9rZW4pOwoKICAgICAgICAgICAgICAgIGlmICghKHRva2VuICE9ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXV0aC90b2tlbnRlc3QiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJjbGVhclRva2VuIik7CiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0VG9rZW4iLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBjb21taXQoImNsZWFyVG9rZW4iKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvbG9naW4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZjIsIGF1dGhEYXRhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIGF4aW9zLnBvc3QoIi9hdXRoL2xvZ2luIiwgX29iamVjdFNwcmVhZCh7fSwgYXV0aERhdGEpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgic2V0VG9rZW4iLCByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgcm91dGVyLnB1c2goIi9yZWFkZXIiKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgiY2xlYXJUb2tlbiIpOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIkxvZ2luIgogICAgICB9KTsgLy8gcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfSwKICAgIGNsZWFyVG9rZW46IGZ1bmN0aW9uIGNsZWFyVG9rZW4oX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgY29tbWl0KCJjbGVhclRva2VuIik7CiAgICB9LAogICAgc2V0VXNlclNldHRpbmdzOiBmdW5jdGlvbiBzZXRVc2VyU2V0dGluZ3MoX3JlZjUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgYXhpb3MuZ2V0KCIvdXNlclNldHRpbmcvZ2V0VXNlclNldHRpbmdzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoInNldFNlbGVjdGVkUGFjayIsIHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJpc0F1dGhlbnRpY2F0ZWQgU3RvcmU6ICIgKyBzdGF0ZS50b2tlbik7CiAgICAgIHJldHVybiBzdGF0ZS50b2tlbiAhPSAiIjsKICAgIH0sCiAgICBnZXRVc2VyU2V0dGluZ3M6IGZ1bmN0aW9uIGdldFVzZXJTZXR0aW5ncyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlclNldHRpbmdzOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js"],"names":["Vue","Vuex","axios","router","use","defaults","baseURL","process","env","VUE_APP_BASE_PATH","localStorage","getItem","headers","common","Store","state","token","userSettings","color","selectedPackId","mutations","setToken","setItem","clearToken","setSelectedPack","data","wordColor","getUserSettings","actions","initAuth","commit","console","log","get","then","response","success","push","catch","e","login","authData","post","access_token","logout","name","setUserSettings","getters","isAuthenticated","modules"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\nimport router from \"../router/index.js\";\n\nVue.use(Vuex);\naxios.defaults.baseURL = process.env.VUE_APP_BASE_PATH;\nif (localStorage.getItem(\"token\")) {\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer: ${localStorage.getItem(\"token\")}`;\n}\nexport default new Vuex.Store({\n  state: {\n    token: localStorage.getItem(\"token\") || \"\",\n    userSettings: {\n      color: \"\",\n      selectedPackId: \"\",\n    },\n  },\n  mutations: {\n    setToken(state, token) {\n      state.token = token;\n      localStorage.setItem(\"token\", token);\n    },\n    clearToken(state) {\n      state.token = \"\";\n      localStorage.setItem(\"token\", \"\");\n    },\n    setSelectedPack(state, data) {\n      state.userSettings.color = data.wordColor;\n      state.userSettings.selectedPackId = data.selectedPackId;\n    },\n    getUserSettings(state) {\n      state.userSettings;\n    },\n  },\n  actions: {\n    async initAuth({ commit }) {\n      let token = localStorage.getItem(\"token\");\n      console.log(\"Token:\" + token);\n      if (token != \"\") {\n        await axios\n          .get(\"/auth/tokentest\")\n          .then((response) => {\n            console.log(response.data);\n            if (response.data.success === false) {\n              commit(\"clearToken\");\n              router.push(\"/login\");\n            } else {\n              commit(\"setToken\", token);\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n      } else {\n        commit(\"clearToken\");\n        router.push(\"/login\");\n      }\n    },\n    login({ commit }, authData) {\n      axios\n        .post(\"/auth/login\", { ...authData })\n        .then((response) => {\n          commit(\"setToken\", response.data.access_token);\n          router.push(\"/reader\");\n        })\n        .catch((e) => console.log(e));\n    },\n    logout({ commit }) {\n      commit(\"clearToken\");\n      router.push({ name: \"Login\" });\n      // router.push(\"/login\");\n    },\n    clearToken({ commit }) {\n      commit(\"clearToken\");\n    },\n    setUserSettings({ commit }) {\n      axios\n        .get(\"/userSetting/getUserSettings\")\n        .then((response) => {\n          commit(\"setSelectedPack\", response.data.data);\n        })\n        .catch((e) => console.log(e));\n    },\n  },\n  getters: {\n    isAuthenticated(state) {\n      console.log(\"isAuthenticated Store: \" + state.token);\n      return state.token != \"\";\n    },\n    getUserSettings(state) {\n      return state.userSettings;\n    },\n  },\n  modules: {},\n});\n"]}]}