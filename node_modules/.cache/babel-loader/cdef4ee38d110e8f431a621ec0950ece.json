{"remainingRequest":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/babel-loader/lib/index.js!/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js","dependencies":[{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js","mtime":1609568910248},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL29tZXJzZXJkYXJzZXJpZm9nbHUvRGVza3RvcC9yZWFkZXItYXBwLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29tZXJzZXJkYXJzZXJpZm9nbHUvRGVza3RvcC9yZWFkZXItYXBwLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIvaW5kZXguanMiOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB8fCAiIgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHRva2VuKTsKICAgIH0sCiAgICBjbGVhclRva2VuOiBmdW5jdGlvbiBjbGVhclRva2VuKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsICIiKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGluaXRBdXRoOiBmdW5jdGlvbiBpbml0QXV0aChfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdG9rZW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRva2VuOiIgKyB0b2tlbik7CgogICAgICAgICAgICAgICAgaWYgKCEodG9rZW4gIT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvYXV0aC90b2tlbnRlc3QiLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyOiAiLmNvbmNhdCh0b2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgiY2xlYXJUb2tlbiIpOwogICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb21taXQoInNldFRva2VuIiwgdG9rZW4pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgY29tbWl0KCJjbGVhclRva2VuIik7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYyLCBhdXRoRGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL2F1dGgvbG9naW4iLCBfb2JqZWN0U3ByZWFkKHt9LCBhdXRoRGF0YSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICByb3V0ZXIucHVzaCgiL3JlYWRlciIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgY29tbWl0KCJjbGVhclRva2VuIik7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgIH0pOyAvLyByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICB9LAogICAgY2xlYXJUb2tlbjogZnVuY3Rpb24gY2xlYXJUb2tlbihfcmVmNCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICBjb21taXQoImNsZWFyVG9rZW4iKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJpc0F1dGhlbnRpY2F0ZWQgU3RvcmU6ICIgKyBzdGF0ZS50b2tlbik7CiAgICAgIHJldHVybiBzdGF0ZS50b2tlbiAhPSAiIjsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js"],"names":["Vue","Vuex","axios","router","use","Store","state","token","localStorage","getItem","mutations","setToken","setItem","clearToken","actions","initAuth","commit","console","log","get","headers","Authorization","then","response","data","success","push","catch","e","login","authData","post","access_token","logout","name","getters","isAuthenticated","modules"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\nimport router from \"../router/index.js\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    token: localStorage.getItem(\"token\") || \"\",\n  },\n  mutations: {\n    setToken(state, token) {\n      state.token = token;\n      localStorage.setItem(\"token\", token);\n    },\n    clearToken(state) {\n      state.token = \"\";\n      localStorage.setItem(\"token\", \"\");\n    },\n  },\n  actions: {\n    async initAuth({ commit }) {\n      let token = localStorage.getItem(\"token\");\n      console.log(\"Token:\" + token);\n      if (token != \"\") {\n        await axios\n          .get(\"http://localhost:5000/api/auth/tokentest\", {\n            headers: {\n              Authorization: `Bearer: ${token}`,\n            },\n          })\n          .then((response) => {\n            console.log(response.data);\n            if (response.data.success === false) {\n              commit(\"clearToken\");\n              router.push(\"/login\");\n            } else {\n              commit(\"setToken\", token);\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n      } else {\n        commit(\"clearToken\");\n        router.push(\"/login\");\n      }\n    },\n    login({ commit }, authData) {\n      axios\n        .post(\"http://localhost:5000/api/auth/login\", { ...authData })\n        .then((response) => {\n          commit(\"setToken\", response.data.access_token);\n          router.push(\"/reader\");\n        })\n        .catch((e) => console.log(e));\n    },\n    logout({ commit }) {\n      commit(\"clearToken\");\n      router.push({ name: \"Login\" });\n      // router.push(\"/login\");\n    },\n    clearToken({ commit }) {\n      commit(\"clearToken\");\n    },\n  },\n  getters: {\n    isAuthenticated(state) {\n      console.log(\"isAuthenticated Store: \" + state.token);\n      return state.token != \"\";\n    },\n  },\n  modules: {},\n});\n"]}]}