{"remainingRequest":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/babel-loader/lib/index.js!/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js","dependencies":[{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js","mtime":1611498222506},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL29tZXJzZXJkYXJzZXJpZm9nbHUvRGVza3RvcC9yZWFkZXItYXBwLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL29tZXJzZXJkYXJzZXJpZm9nbHUvRGVza3RvcC9yZWFkZXItYXBwLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIvaW5kZXguanMiOwppbXBvcnQgY3JlYXRlUGVyc2lzdGVkU3RhdGUgZnJvbSAidnVleC1wZXJzaXN0ZWRzdGF0ZSI7ClZ1ZS51c2UoVnVleCk7CmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfUEFUSDsKCmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSkgewogIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiQmVhcmVyOiAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSk7Cn0KCmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBwbHVnaW5zOiBbY3JlYXRlUGVyc2lzdGVkU3RhdGUoKV0sCiAgc3RhdGU6IHsKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSB8fCAiIiwKICAgIHVzZXJTZXR0aW5nczogewogICAgICBfaWQ6ICIiLAogICAgICBjb2xvcjogIiIsCiAgICAgIHNlbGVjdGVkUGFja0lkOiAiIgogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHRva2VuKTsKICAgIH0sCiAgICBjbGVhclRva2VuOiBmdW5jdGlvbiBjbGVhclRva2VuKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gIiI7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsICIiKTsKICAgIH0sCiAgICBzZXRTZWxlY3RlZFBhY2s6IGZ1bmN0aW9uIHNldFNlbGVjdGVkUGFjayhzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS51c2VyU2V0dGluZ3MuY29sb3IgPSBkYXRhLndvcmRDb2xvcjsKICAgICAgc3RhdGUudXNlclNldHRpbmdzLnNlbGVjdGVkUGFja0lkID0gZGF0YS5zZWxlY3RlZFBhY2tJZDsKICAgICAgc3RhdGUudXNlclNldHRpbmdzLl9pZCA9IGRhdGEuX2lkOwogICAgfSwKICAgIGdldFVzZXJTZXR0aW5nczogZnVuY3Rpb24gZ2V0VXNlclNldHRpbmdzKHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXJTZXR0aW5nczsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGluaXRBdXRoOiBmdW5jdGlvbiBpbml0QXV0aChfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdG9rZW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRva2VuOiIgKyB0b2tlbik7CgogICAgICAgICAgICAgICAgaWYgKCEodG9rZW4gIT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9hdXRoL3Rva2VudGVzdCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICBjb21taXQoImNsZWFyVG9rZW4iKTsKICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHRva2VuKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGNvbW1pdCgiY2xlYXJUb2tlbiIpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmMiwgYXV0aERhdGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgYXhpb3MucG9zdCgiL2F1dGgvbG9naW4iLCBfb2JqZWN0U3ByZWFkKHt9LCBhdXRoRGF0YSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICByb3V0ZXIucHVzaCgiL3JlYWRlciIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgY29tbWl0KCJjbGVhclRva2VuIik7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgIH0pOyAvLyByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICB9LAogICAgY2xlYXJUb2tlbjogZnVuY3Rpb24gY2xlYXJUb2tlbihfcmVmNCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICBjb21taXQoImNsZWFyVG9rZW4iKTsKICAgIH0sCiAgICBzZXRVc2VyU2V0dGluZ3M6IGZ1bmN0aW9uIHNldFVzZXJTZXR0aW5ncyhfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICBheGlvcy5nZXQoIi91c2VyU2V0dGluZy9nZXRVc2VyU2V0dGluZ3MiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgic2V0U2VsZWN0ZWRQYWNrIiwgcmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgICAgY29uc29sZS5sb2coImlzQXV0aGVudGljYXRlZCBTdG9yZTogIiArIHN0YXRlLnRva2VuKTsKICAgICAgcmV0dXJuIHN0YXRlLnRva2VuICE9ICIiOwogICAgfSwKICAgIGdldFVzZXJTZXR0aW5nczogZnVuY3Rpb24gZ2V0VXNlclNldHRpbmdzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyU2V0dGluZ3M7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"sources":["/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/store/index.js"],"names":["Vue","Vuex","axios","router","createPersistedState","use","defaults","baseURL","process","env","VUE_APP_BASE_PATH","localStorage","getItem","headers","common","Store","plugins","state","token","userSettings","_id","color","selectedPackId","mutations","setToken","setItem","clearToken","setSelectedPack","data","wordColor","getUserSettings","actions","initAuth","commit","console","log","get","then","response","success","push","catch","e","login","authData","post","access_token","logout","name","setUserSettings","getters","isAuthenticated","modules"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\nimport router from \"../router/index.js\";\nimport createPersistedState from \"vuex-persistedstate\";\n\nVue.use(Vuex);\naxios.defaults.baseURL = process.env.VUE_APP_BASE_PATH;\nif (localStorage.getItem(\"token\")) {\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer: ${localStorage.getItem(\"token\")}`;\n}\nexport default new Vuex.Store({\n  plugins: [createPersistedState()],\n  state: {\n    token: localStorage.getItem(\"token\") || \"\",\n    userSettings: {\n      _id: \"\",\n      color: \"\",\n      selectedPackId: \"\",\n    },\n  },\n  mutations: {\n    setToken(state, token) {\n      state.token = token;\n      localStorage.setItem(\"token\", token);\n    },\n    clearToken(state) {\n      state.token = \"\";\n      localStorage.setItem(\"token\", \"\");\n    },\n    setSelectedPack(state, data) {\n      state.userSettings.color = data.wordColor;\n      state.userSettings.selectedPackId = data.selectedPackId;\n      state.userSettings._id = data._id;\n    },\n    getUserSettings(state) {\n      state.userSettings;\n    },\n  },\n  actions: {\n    async initAuth({ commit }) {\n      let token = localStorage.getItem(\"token\");\n      console.log(\"Token:\" + token);\n      if (token != \"\") {\n        await axios\n          .get(\"/auth/tokentest\")\n          .then((response) => {\n            console.log(response.data);\n            if (response.data.success === false) {\n              commit(\"clearToken\");\n              router.push(\"/login\");\n            } else {\n              commit(\"setToken\", token);\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n      } else {\n        commit(\"clearToken\");\n        router.push(\"/login\");\n      }\n    },\n    login({ commit }, authData) {\n      axios\n        .post(\"/auth/login\", { ...authData })\n        .then((response) => {\n          commit(\"setToken\", response.data.access_token);\n          router.push(\"/reader\");\n        })\n        .catch((e) => console.log(e));\n    },\n    logout({ commit }) {\n      commit(\"clearToken\");\n      router.push({ name: \"Login\" });\n      // router.push(\"/login\");\n    },\n    clearToken({ commit }) {\n      commit(\"clearToken\");\n    },\n    setUserSettings({ commit }) {\n      axios\n        .get(\"/userSetting/getUserSettings\")\n        .then((response) => {\n          commit(\"setSelectedPack\", response.data.data);\n        })\n        .catch((e) => console.log(e));\n    },\n  },\n  getters: {\n    isAuthenticated(state) {\n      console.log(\"isAuthenticated Store: \" + state.token);\n      return state.token != \"\";\n    },\n    getUserSettings(state) {\n      return state.userSettings;\n    },\n  },\n  modules: {},\n});\n"]}]}