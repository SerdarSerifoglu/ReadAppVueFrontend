{"remainingRequest":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/views/user/UserSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/src/views/user/UserSettings.vue","mtime":1612699497079},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/omerserdarserifoglu/Desktop/reader-app-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBDb21ib2JveCBmcm9tICIuLi8uLi9jb21wb25lbnRzL0NvbWJvYm94LnZ1ZSI7CmltcG9ydCBJbnB1dCBmcm9tICIuLi8uLi9jb21wb25lbnRzL0lucHV0LnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbWJvYm94Q3VycmVudFZhbHVlOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXJTZXR0aW5ncy5zZWxlY3RlZFBhY2tJZCwKICAgICAgc2VsZWN0ZWRQYWNrOiAiIiwKICAgICAgcGFja0NvbWJvYm94RGF0YTogW10sCiAgICAgIHdvcmRDb2xvcjogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVc2VyU2V0dGluZ3MuY29sb3IsCiAgICAgIHVzZXJTZXR0aW5nc0lkOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXJTZXR0aW5ncy5faWQsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgImFwcC1jb21ib2JveCI6IENvbWJvYm94LAogICAgImFwcC1pbnB1dCI6IElucHV0LAogIH0sCiAgbWV0aG9kczogewogICAgaW5zZXJ0T3JVcGRhdGVXb3JkOiBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgLy9pxZ9sZW0gdXlndWxhbsSxY2FrIGRhdGEgdmFyc2EgdXBkYXRlIHlva3NhIGFkZAogICAgICBpZiAodGhpcy51c2VyU2V0dGluZ3NJZCA9PT0gIiIpIHsKICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgLnBvc3QoIi91c2VyU2V0dGluZy9hZGQiLCB7CiAgICAgICAgICAgIHNlbGVjdGVkUGFja0lkOiB0aGlzLnNlbGVjdGVkUGFjaywKICAgICAgICAgICAgd29yZENvbG9yOiB0aGlzLndvcmRDb2xvciwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFVzZXJTZXR0aW5ncyIpOwogICAgICAgICAgICBhbGVydCgiVXNlciBTZXR0aW5ncyBhZGRlZCIpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlID0+IGNvbnNvbGUubG9nKGUpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhd2FpdCBheGlvcwogICAgICAgICAgLnB1dCgiL3VzZXJTZXR0aW5nLyIsIHsKICAgICAgICAgICAgX2lkOiB0aGlzLnVzZXJTZXR0aW5nc0lkLAogICAgICAgICAgICBzZWxlY3RlZFBhY2tJZDogdGhpcy5zZWxlY3RlZFBhY2ssCiAgICAgICAgICAgIHdvcmRDb2xvcjogdGhpcy53b3JkQ29sb3IsCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRVc2VyU2V0dGluZ3MiKTsKICAgICAgICAgICAgYWxlcnQoIlVzZXIgU2V0dGluZ3MgdXBkYXRlZCIpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlID0+IGNvbnNvbGUubG9nKGUpKTsKICAgICAgfQogICAgfSwKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX1BBVEg7CiAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsKICAgICAgIkF1dGhvcml6YXRpb24iCiAgICBdID0gYEJlYXJlcjogJHt0aGlzLiRzdG9yZS5zdGF0ZS50b2tlbn1gOwogICAgYXdhaXQgYXhpb3MKICAgICAgLmdldCgiL3BhY2svZm9yQ2J4IikKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMucGFja0NvbWJvYm94RGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBhY2tDb21ib2JveERhdGEpOwogICAgICB9KQogICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZS5zdGF0dXMsIGUubWVzc2FnZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNsZWFyVG9rZW4iKTsKICAgICAgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["UserSettings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserSettings.vue","sourceRoot":"src/views/user","sourcesContent":["<style scoped>\n.userSettings {\n}\n</style>\n<template>\n  <div class=\"userSettings\">\n    <div class=\"col-sm-2\">\n      <label>Choose Pack</label>\n    </div>\n    <app-combobox\n      classValue=\"col-sm-6\"\n      :mainData=\"packComboboxData\"\n      @comboboxChange=\"selectedPack = $event\"\n      :currentValue=\"comboboxCurrentValue\"\n    />\n    <app-input\n      :inputClass=\"{\n        'form-control': true,\n      }\"\n      inputId=\"wordColor\"\n      label=\"Word Color\"\n      divClass=\"col-md-12 col-xs-12\"\n      v-model=\"wordColor\"\n      :dataValue=\"wordColor\"\n    ></app-input>\n    {{ userSettingsId }}\n    <button class=\"btn btn-success center\" @click=\"insertOrUpdateWord()\">\n      <i class=\"far fa-save\" style=\"margin-right: 3px\"></i> SAVE\n    </button>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport Combobox from \"../../components/Combobox.vue\";\nimport Input from \"../../components/Input.vue\";\n\nexport default {\n  data() {\n    return {\n      comboboxCurrentValue: this.$store.getters.getUserSettings.selectedPackId,\n      selectedPack: \"\",\n      packComboboxData: [],\n      wordColor: this.$store.getters.getUserSettings.color,\n      userSettingsId: this.$store.getters.getUserSettings._id,\n    };\n  },\n  components: {\n    \"app-combobox\": Combobox,\n    \"app-input\": Input,\n  },\n  methods: {\n    insertOrUpdateWord: async function() {\n      //işlem uygulanıcak data varsa update yoksa add\n      if (this.userSettingsId === \"\") {\n        await axios\n          .post(\"/userSetting/add\", {\n            selectedPackId: this.selectedPack,\n            wordColor: this.wordColor,\n          })\n          .then(response => {\n            console.log(response);\n            this.$store.dispatch(\"setUserSettings\");\n            alert(\"User Settings added\");\n          })\n          .catch(e => console.log(e));\n      } else {\n        await axios\n          .put(\"/userSetting/\", {\n            _id: this.userSettingsId,\n            selectedPackId: this.selectedPack,\n            wordColor: this.wordColor,\n          })\n          .then(response => {\n            console.log(response);\n            this.$store.dispatch(\"setUserSettings\");\n            alert(\"User Settings updated\");\n          })\n          .catch(e => console.log(e));\n      }\n    },\n  },\n  async created() {\n    axios.defaults.baseURL = process.env.VUE_APP_BASE_PATH;\n    axios.defaults.headers.common[\n      \"Authorization\"\n    ] = `Bearer: ${this.$store.state.token}`;\n    await axios\n      .get(\"/pack/forCbx\")\n      .then(response => {\n        this.packComboboxData = response.data.data;\n        console.log(this.packComboboxData);\n      })\n      .catch(e => {\n        console.log(e.status, e.message);\n        this.$store.dispatch(\"clearToken\");\n      });\n  },\n};\n</script>\n"]}]}